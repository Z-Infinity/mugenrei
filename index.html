<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="">
  <meta name="author" content="mugenrei">
  <title>mugenrei</title>
  <link rel="canonical" href="https://getbootstrap.com/docs/5.1/examples/album/">
  <script src="./assets/dist/js/jquery-3.3.1.min.js"></script>
  <!-- Bootstrap core CSS -->
  <link href="./assets/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    .card {
      display: flex;
      flex-direction: column;
      height: 100%;
    }

    .card-body {
      flex-grow: 1;
      display: flex;
      flex-direction: column;
    }

    .card-img-top {
      width: 100%;
      height: auto;
      object-fit: cover;
      transition: filter 0.3s ease-in-out;
    }

    .mosaic {
      filter: url(#mosaic);
    }
    li {
      list-style-type: none;
    }
  </style>
  <svg width="0" height="0">
    <filter id="mosaic">
      <feTile in="SourceGraphic" result="tiled" />
      <feMorphology in="tiled" operator="erode" radius="10" result="eroded" />
      <feComposite in="eroded" in2="tiled" operator="in" result="composite" />
    </filter>
  </svg>
</head>

<body>
  <header>
    <div class="collapse bg-dark" id="navbarHeader">
      <div class="container">
        <div class="row">
          <div class="col-sm-8 col-md-7 py-4">
            <h4 class="text-white">About</h4>
            <p class="text-muted">
              Sometimes admins don't want some mods on their websites because it either hurts
              ad revenue or their subjective views on the world, this usually applies for mods
              that are too too Spicy (NSFW or not), too kawaii (with cutey girls) or both, that's when you
              have to split where your mods will be hosted. I plan to do all types of mods,
              that's why I've made this "hub".
            </p>
          </div>
          <div class="col-sm-4 offset-md-1 py-4">
            <h4 class="text-white">Pages</h4>
            <ul class="list-unstyled">
              <li><a href="https://ko-fi.com/mugenrei" class="text-white">Ko-fi</a></li>
              <li><a href="https://twitter.com/mugenreii" class="text-white">Twitter</a></li>
              <li><a href="https://gamebanana.com/members/2054898" class="text-white">Gamebanana</a></li>
              <li><a href="https://next.nexusmods.com/profile/mugenreisan" class="text-white">NexusMods</a></li>
            </ul>
          </div>
        </div>
      </div>
    </div>
    <div class="navbar navbar-dark bg-dark shadow-sm">
      <div class="container">
        <a href="#" class="navbar-brand d-flex align-items-center">
          <strong>mugenrei</strong>
        </a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarHeader"
          aria-controls="navbarHeader" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
      </div>
    </div>
  </header>
  <main>
    <section class="py-5 text-center container">
      <div class="row py-lg-5">
        <div class="col-lg-6 col-md-8 mx-auto">
          <h1 class="fw-light">Gallery</h1>
          <p class="lead text-muted">
            Here you can find a unified list for any mod I did and decided to list here
            alongside other mods websites, maybe not the most updated, so here are the lists
            on mod pages where I have an account:
          </p>
          <div id="accountList" class="">
          </div>
          <p class="lead text-muted">
            To commission a mod or send me some coffee!
          </p>
          <script type='text/javascript' src='https://storage.ko-fi.com/cdn/widget/Widget_2.js'></script>
          <script
            type='text/javascript'>kofiwidget2.init('Ko-fi', '#29abe0', 'K3K07OGNB'); kofiwidget2.draw();</script>
        </div>
      </div>
    </section>
    <div class="album py-5 bg-light">
      <div class="container">
        <div class="form-check form-switch">
          <input class="form-check-input" type="checkbox" role="switch" id="tooSpicy-omg-Switch" checked="false">
          <label class="form-check-label" for="tooSpicy-omg-Switch">Show too spicy (OMG!)</label>
        </div>
        <div class="row row-cols-1 row-cols-sm-2 row-cols-md-3 g-3 modHub" id="modData">
          <script>

            // Account list data
            const accountData = [
              { icon: 'https://images.gamebanana.com/static/img/favicon/favicon.ico', name: 'GameBanana', url: 'https://gamebanana.com/members/submissions/mods/2054898?' },
              { icon: 'https://images.nexusmods.com/favicons/ReskinOrange/mstile-144x144.png', name: 'NexusMods', url: 'https://next.nexusmods.com/profile/mugenreisan/mods' }
              // Add more accounts as needed
            ];


            // Function to create account list item
            function createAccountItem(account) {
              const li = document.createElement('li');
              li.classList.add('mb-2');

              li.innerHTML = `
                <img src="${account.icon}" alt="${account.name}" style="width: 24px; height: 24px; vertical-align: middle; margin-right: 4px;">
                <a href="${account.url}" target="_blank">${account.name}</a>
              `;

              return li;
            }

            // Function to render account list
            function renderAccounts(data) {
              const accountList = document.getElementById('accountList');
              data.forEach(account => {
                const accountItem = createAccountItem(account);
                accountList.appendChild(accountItem);
              });
            }

            // Render account list
            renderAccounts(accountData);

            // Function to get hostname
            function getHostName(url) {
              const parsedUrl = new URL(url);
              const hostname = parsedUrl.hostname;
              const pathParts = parsedUrl.pathname.split('/');
              const lastPathPart = pathParts[pathParts.length - 1];

              if (lastPathPart.includes('.')) {
                // If last part of URL contains a '.', consider it as a filename
                return `${hostname}</br>${lastPathPart}`;
              }
              return hostname;
            }

            // Function to create card element
            function createCard(modData) {
              const card = document.createElement('div');
              card.classList.add('col-md-6', 'col-lg-4', 'mb-3');

              card.innerHTML = `
                    <div class="card${modData.isTooSpicy === "true" ? ' tooSpicy' : ''}">
                        <img src="${modData.thumbnail}" class="card-img-top${modData.isTooSpicy === "true" ? ' mosaic' : ''}" alt="Thumbnail">
                        <div class="card-body">
                            <h5 class="card-title">${modData.newModel} - ${modData.targetDemon}</h5>
                            <p class="card-text">${modData.modSeries}</p>
                            ${modData.modCommissioner ? `<p class="card-text">Sincere thanks to ${modData.modCommissioner}</p>` : `<p class="card-text">ã€€</p>`}
                            <a href="${modData.mirror1}" class="btn btn-primary">${getHostName(modData.mirror1)}</a>
                            ${modData.mirror2 ? `<a href="${modData.mirror2}" class="btn btn-info">${getHostName(modData.mirror2)}</a>` : ''}
                            ${modData.mirror3 ? `<a href="${modData.mirror3}" class="btn btn-info">${getHostName(modData.mirror3)}</a>` : ''}
                        </div>
                    </div>
                `;

              return card;
            }

            // Function to render cards
            function renderCards(data) {
              const modHub = document.querySelector('.modHub');
              // Reverse the order of the data array
              data.reverse().forEach(mod => {
                const card = createCard(mod);
                modHub.appendChild(card);
              });
            }

          // Load JSON data from file with cache-busting parameter
          fetch('./assets/mods.json?nocache=' + Date.now())
            .then(response => response.json())
            .then(jsonData => {
              // Render cards
              renderCards(jsonData);
            })
            .catch(error => console.error('Error loading JSON:', error));

            document.addEventListener('DOMContentLoaded', function () {
              // Reset the NSFW switch to off position on page load
              const nsfwSwitch = document.getElementById('tooSpicy-omg-Switch');
              nsfwSwitch.checked = false;

              // Add event listener for NSFW switch
              nsfwSwitch.addEventListener('change', function () {
                const nsfwCards = document.querySelectorAll('.tooSpicy .card-img-top');
                nsfwCards.forEach(img => {
                  if (this.checked) {
                    img.classList.remove('mosaic');
                  } else {
                    img.classList.add('mosaic');
                  }
                });
              });
            });
          </script>
        </div>
      </div>
    </div>
  </main>
  <footer class="text-muted py-5">
    <div class="container">
      <p class="float-end mb-1">
        <a href="#">Back to top</a>
      </p>
      <p class="mb-1">Page by mugenrei, made using Bootstrap.</p>
    </div>
  </footer>
  <script src="./assets/dist/js/bootstrap.bundle.min.js"></script>
</body>

</html>